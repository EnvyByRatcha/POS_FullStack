<div class="card mt-3">
  <div class="card-header bg-dark">ผู้ใช้งานระบบ</div>
  <div class="card-body">
    <button
      class="btn btn-primary"
      (click)="clearForm()"
      data-bs-toggle="modal"
      data-bs-target="#modalUser"
    >
      <i class="fa fa-plus me-1"></i>
      เพิ่มผู้ใข้งาน
    </button>
    <table class="table table-bordered table-striped mt-3">
      <thead>
        <tr>
          <th>ชื่อผู้ใช้งาน</th>
          <th>username</th>
          <th>level</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (user of users; track $index) {
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.level }}</td>
          <td class="text-center">
            <button
              class="btn btn-primary mr-2"
              data-bs-toggle="modal"
              data-bs-target="#modalUser"
              (click)="selectedUser(user)"
            >
              <i class="fa fa-pencil"></i>
            </button>
            <button class="btn btn-danger" (click)="remove(user.id)">
              <i class="fa fa-times"></i>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<app-modal modalId="modalUser" title="ผู้ใช้งาน">
  <div>ชื่อ</div>
  <input type="text" class="form-control" [(ngModel)]="name" />

  <div class="mt-3">username</div>
  <input type="text" class="form-control" [(ngModel)]="username" />

  <div class="mt-3">password</div>
  <input type="text" class="form-control" [(ngModel)]="password" />

  <div class="mt-3">level</div>
  <select class="form-control" [(ngModel)]="level">
    <option value="admin" [selected]="level == 'admin'">admin</option>
    <option value="employee" [selected]="level == 'employee'">พนักงาน</option>
  </select>

  <button class="btn btn-primary mt-3" (click)="save()">
    <i class="fa fa-check mr-2"></i>บันทึก
  </button>
</app-modal>
