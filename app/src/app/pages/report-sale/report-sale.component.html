<div class="text-end align-content-center alert bg-success mt-3 text-lg">
  {{ "รวมสุทธิ " + total.toLocaleString("th-TH") + " บาท" }}
</div>

<div class="card mt-3">
  <div class="card-header card-style">สรุปยอดขาย</div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-3">
        <select
          class="form-control"
          [(ngModel)]="year"
          (ngModelChange)="fetchData()"
        >
          @for (year of ddlYear; track $index) {
          <option [value]="year">{{ year }}</option>
          }
        </select>
      </div>
      <div class="col-md-3">
        <select
          class="form-control"
          [(ngModel)]="month"
          (ngModelChange)="fetchData()"
        >
          @for (month of ddlMonth; track $index) {
          <option [value]="$index + 1">{{ month }}</option>
          }
        </select>
      </div>
    </div>

    <table class="table table-bordered table-striped mt-3">
      <thead>
        <tr>
          <th>วันที่</th>
          <th>ยอดรวม</th>
        </tr>
      </thead>
      <tbody>
        @for (item of data; track $index) {
        <tr>
          <td>{{ dayjs(item.date).format("DD/MM/YYYY") }}</td>
          <td class="text-end">{{ item.amount.toLocaleString("th-TH") }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
